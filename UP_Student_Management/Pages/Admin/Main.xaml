<Page x:Class="UP_Student_Management.Pages.Admin.Main"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:UP_Student_Management.Pages.Admin"
      xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
      mc:Ignorable="d" 
      d:DesignHeight="800" d:DesignWidth="1200"
      Title="Main">

    <Grid Background="white">
        <Grid.RowDefinitions>
            <RowDefinition Height="0.2*"/>
            <RowDefinition Height="2*"/>
            <RowDefinition Height="0.2*"/>
        </Grid.RowDefinitions>
        <Grid Background="#0066CC" Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <TextBlock 
                Grid.Column="0" 
                Text="Управление студентами" 
                Style="{StaticResource MaterialDesignBody1TextBlock}" 
                Foreground="White" 
                FontWeight="Bold"
                Margin="10,0,0,0"
                VerticalAlignment="Center"/>
            <Button 
                Click="Exit" 
                Content="Выйти" 
                Grid.Column="2" 
                Style="{StaticResource MaterialDesignRaisedButton}" 
                Background="#FFD1DC" 
                BorderBrush="#FFD1DC"
                VerticalAlignment="Center"
                Foreground="DeepPink"
                Width="100"
                Margin="0,0,10,0"/>
        </Grid>
        <Grid Grid.Row="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <GroupBox Grid.Row="0" Header="Фильтрация" FontWeight="Bold" materialDesign:ColorZoneAssist.Mode="Standard"  Style="{StaticResource MaterialDesignCardGroupBox}" Margin="10,10,10,10">
                <StackPanel Orientation="Horizontal">
                    <TextBox x:Name="txtSearch" materialDesign:HintAssist.Hint="Поиск" Margin="10" Width="250" Style="{StaticResource MaterialDesignTextBox}" materialDesign:TextFieldAssist.UnderlineBrush="#0066CC"/>
                    <ComboBox x:Name="cmbDepartmentFilter" materialDesign:HintAssist.Hint="Отделение" Margin="10" Width="150" materialDesign:TextFieldAssist.UnderlineBrush="#0066CC"/>
                    <ComboBox x:Name="cmbStatusFilter" materialDesign:HintAssist.Hint="Статус" Margin="10" Width="140" materialDesign:TextFieldAssist.UnderlineBrush="#0066CC"/>
                    <ComboBox x:Name="cmbCategoryFilter" materialDesign:HintAssist.Hint="Категория" Margin="10" Width="120" materialDesign:TextFieldAssist.UnderlineBrush="#0066CC"/>
                </StackPanel>
            </GroupBox>
            <GroupBox Grid.Row="1" Header="Что сделать?" FontWeight="Bold" materialDesign:ColorZoneAssist.Mode="Standard" Style="{StaticResource MaterialDesignCardGroupBox}" Margin="10,10,10,10">
                <StackPanel Orientation="Horizontal">
                    <Button Content="Добавить" Margin="5" Click="btnAddStudent" Background="#3EB489" BorderBrush="#3EB489"/>
                    <Button Content="Редактировать" Margin="5" Click="btnEditStudent" Background="#9EA1A2" BorderBrush="#9EA1A2"/>
                    <Button Content="Добавить статус" Margin="5" Click="btnAddStatus" Background="#9EA1A2" BorderBrush="#9EA1A2"/>
                    <Button Content="Удалить" Margin="5" Click="btnDeleteStudent" Background="#E41613" BorderBrush="#E41613"/>
                </StackPanel>
            </GroupBox>
            <DataGrid 
                x:Name="datagridStudents" 
                Grid.Row="2"
                Margin="10"
                AutoGenerateColumns="False"
                IsReadOnly="True"
                SelectionMode="Single"
                HeadersVisibility="Column"
                GridLinesVisibility="None">
                <DataGrid.Columns>
                    <DataGridTextColumn 
        Header="ФИО" 
        Width="250"
        Binding="{Binding FullName}"/>

                    <DataGridTextColumn 
        Header="Группа" 
        Width="100"
        Binding="{Binding GroupName}"/>

                    <DataGridTextColumn 
        Header="Отделение" 
        Width="120"
        Binding="{Binding DepartmentName}"/>

                    <DataGridTextColumn 
        Header="Телефон" 
        Width="130"
        Binding="{Binding Phone}"/>

                    <DataGridTextColumn 
        Header="Финансирование" 
        Width="140"
        Binding="{Binding Financing}"/>

                    <DataGridTextColumn 
        Header="Год поступления" 
        Width="140"
        Binding="{Binding YearReceipts}"/>

                    <DataGridTextColumn 
        Header="Год окончания" 
        Width="110"
        Binding="{Binding YearFinish}"/>
                </DataGrid.Columns>

                <DataGrid.CellStyle>
                    <Style TargetType="DataGridCell">
                        <Setter Property="Padding" Value="10,8"/>
                        <Setter Property="BorderThickness" Value="0"/>
                        <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                    </Style>
                </DataGrid.CellStyle>

                <DataGrid.ColumnHeaderStyle>
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="Background" Value="#F8F9FA"/>
                        <Setter Property="Foreground" Value="#333333"/>
                        <Setter Property="FontWeight" Value="SemiBold"/>
                        <Setter Property="Padding" Value="10,8"/>
                        <Setter Property="BorderThickness" Value="0,0,0,2"/>
                        <Setter Property="BorderBrush" Value="#E0E0E0"/>
                    </Style>
                </DataGrid.ColumnHeaderStyle>
            </DataGrid>
        </Grid>
        <Button 
            Click="gotoDepartment" 
            Content="Отделения" 
            Grid.Row="2" 
            Style="{StaticResource MaterialDesignRaisedButton}" 
            Background="#FFD1DC" 
            BorderBrush="#FFD1DC"
            HorizontalAlignment="Left"
            VerticalAlignment="Center"
            Foreground="DeepPink"
            Width="110"
            Margin="10,0,0,0"/>
        <Button 
            Click="gotoRooms" 
            Content="Комнаты" 
            Grid.Row="2" 
            Style="{StaticResource MaterialDesignRaisedButton}" 
            Background="#FFD1DC" 
            BorderBrush="#FFD1DC"
            HorizontalAlignment="Left"
            VerticalAlignment="Center"
            Foreground="DeepPink"
            Width="110"
            Margin="140,0,0,0"/>
        <Button 
            Click="createRecord" 
            Content="Создать отчет" 
            Grid.Row="2" 
            Style="{StaticResource MaterialDesignRaisedButton}" 
            Background="#FFD1DC" 
            BorderBrush="#FFD1DC"
            HorizontalAlignment="Right"
            VerticalAlignment="Center"
            Foreground="DeepPink"
            Width="140"
            Margin="0,0,10,0"/>
    </Grid>
</Page>
